(this.webpackJsonpcusty=this.webpackJsonpcusty||[]).push([[0],{10:function(e,t,o){},12:function(e,t,o){"use strict";o.r(t);var r=o(1),n=o.n(r),d=o(5),c=o.n(d),s=o(2),a=(o(10),o.p+"static/media/custy-logo.96d22885.jpg"),i=o(3),l=o(0),u=function(e){var t=e.todo,o=e.setTodoUrgent,r=e.setTodoWaiting,n=e.closeTodo,d=e.initiateEdit,c=e.freshDeleted;return Object(l.jsx)("div",{children:c?Object(l.jsx)("div",{children:"Undo"}):Object(l.jsxs)("div",{className:t.urgent?"customer-service-card urgent":t.waitingForResponse?"customer-service-card waiting":"customer-service-card",children:[Object(l.jsxs)("nav",{className:"csc-options",children:[Object(l.jsx)("span",{onClick:function(){return o(t.orderNumber)},children:"URGENT"}),Object(l.jsx)("span",{onClick:function(){return r(t.orderNumber)},children:"WAITING"}),Object(l.jsx)("span",{onClick:function(e){return n(e,t.orderNumber)},children:"CLOSE"})]}),Object(l.jsx)("hr",{style:{width:"100%"}}),Object(l.jsx)("h3",{className:"customer-service-card-order-number",children:t.orderNumber}),Object(l.jsx)("h5",{className:"customer-service-card-order-date",children:t.date}),Object(l.jsx)("p",{onClick:function(){d(t.orderNumber,t.todo)},children:t.todo})]})})},b=function(e){var t=e.initiateEdit,o=e.todos,r=e.setTodoUrgent,n=e.setTodoWaiting,d=e.closeTodo,c=e.freshDeleted;return window.onfocus=function(){window.location.reload()},Object(l.jsx)("div",{id:"customer-service-todo",children:o&&o.map((function(e){return Object(l.jsx)(u,{todo:e,setTodoUrgent:r,setTodoWaiting:n,closeTodo:d,initiateEdit:t,freshDeleted:c},e.orderNumber)}))})},j=function(e){var t=e.addTodo,o=e.editCheck,r=e.addNewBBoardItem,n=e.setAddTodo,d=e.setEditCheck;return t||o?t&&!o?Object(l.jsx)("button",{id:"addTodoBtn",onClick:function(){return n(!t)},children:"Close"}):Object(l.jsx)("button",{id:"addTodoBtn",onClick:function(){return d(!o)},children:"Close"}):Object(l.jsx)("button",{id:"addTodoBtn",onClick:function(){r||n(!t)},children:"Add Todo"})},m=function(e){var t=e.setAddNewBBoardItem,o=e.addNewBBoardItem,r=e.addTodo,n=e.editCheck;return o?Object(l.jsx)("button",{id:"addBBoardItemBtn",onClick:function(){return t(!1)},children:"Close"}):Object(l.jsx)("button",{id:"addBBoardItemBtn",onClick:function(){r||n||t(!0)},children:"Add Board Item"})},O=function(e){var t=e.addNewTodo;return Object(l.jsxs)("form",{id:"add-todo-form",children:[Object(l.jsx)("label",{children:"Reference Number:"}),Object(l.jsx)("input",{id:"newTodoOrderNumber",type:"text",autoFocus:!0}),Object(l.jsx)("label",{children:"Todo:"}),Object(l.jsx)("textarea",{id:"newTodoDescription"}),Object(l.jsx)("button",{onClick:function(e){e.preventDefault(),t(document.getElementById("newTodoOrderNumber").value,document.getElementById("newTodoDescription").value)},children:"Submit"})]})},f=function(e){var t=e.submitEdit,o=e.orderNumber,r=e.todo;return Object(l.jsxs)("form",{id:"edit-todo-form",children:[Object(l.jsx)("label",{children:"Order Number:"}),Object(l.jsx)("p",{children:o}),Object(l.jsx)("label",{children:"Todo:"}),Object(l.jsx)("textarea",{id:"editedTodoDescription",defaultValue:r,autoFocus:!0}),Object(l.jsx)("button",{onClick:function(e){e.preventDefault(),t(document.getElementById("editedTodoDescription").value)},children:"Submit"})]})},g=function(){return Object(l.jsx)("div",{id:"github-link",children:Object(l.jsx)("a",{href:"https://github.com/mwroberts3/custy",target:"none",children:Object(l.jsx)(i.a,{size:24})})})},h=function(e){var t=e.name,o=e.desc,r=e.setSelectedBBoardItemContents;return Object(l.jsx)("div",{className:"bulletin-board-item",onClick:function(){!function(e,t){document.querySelector(".bboard-item-contents-container").classList.remove("hidden"),document.querySelector(".bboard-item-contents-container").addEventListener("click",(function(){document.querySelector(".bboard-item-contents-container").classList.add("hidden")})),r({name:t,desc:e})}(o,t)},children:t})},x=function(){return Object(l.jsx)("div",{className:"bulletin-board-spacer",children:"\xa0"})},S=function(e){var t=e.bboardItemArray,o=(e.setBboardItemArray,e.setSelectedBBoardItemContents);return t.sort((function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0})),Object(l.jsx)("div",{id:"bulletin-board",children:t.map((function(e,r){return Object(l.jsxs)("div",{className:"bboard-item-container",children:[Object(l.jsx)(h,{name:e.name,desc:e.desc,setSelectedBBoardItemContents:o}),r<t.length-1&&Object(l.jsx)(x,{})]},r)}))})},N=function(e){var t=e.bboardItemArray,o=e.setBboardItemArray;return Object(l.jsx)("button",{onClick:function(e){!function(e){var r=e.target.parentNode.childNodes[0].textContent;t=t.filter((function(e){return e.name!==r})),localStorage.setItem("bulletinBoard",JSON.stringify(t)),o(t)}(e)},children:"Delete"})},I=function(e){var t=e.contents,o=e.bboardItemArray,r=e.setBboardItemArray;return Object(l.jsxs)("div",{className:"bboard-item-contents-container hidden",children:[Object(l.jsx)("h2",{children:t.name}),Object(l.jsx)("div",{className:"bboard-item-contents",dangerouslySetInnerHTML:{__html:t.desc}}),Object(l.jsx)("div",{style:{marginTop:"20px"},children:Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:"click inside this popup to close"})})}),Object(l.jsx)(N,{bboardItemArray:o,setBboardItemArray:r})]})},p=function(e){var t=e.bboardItemArray,o=e.setAddNewBBoardItem;return Object(l.jsxs)("form",{id:"add-bbitem-form",children:[Object(l.jsx)("label",{children:"Header:"}),Object(l.jsx)("input",{id:"bbItemHeader",type:"text",autoFocus:!0}),Object(l.jsx)("label",{children:"Content (html):"}),Object(l.jsx)("textarea",{id:"newBBItemContent"}),Object(l.jsx)("button",{onClick:function(e){!function(e){e.preventDefault();var r=t,n={name:document.querySelector("#bbItemHeader").value,desc:document.querySelector("#newBBItemContent").value};""!==n.name&&""!==n.desc&&(r.push(n),localStorage.setItem("bulletinBoard",JSON.stringify(r))),o(!1),document.querySelector("#add-bbitem-form").classList.add("hidden")}(e)},children:"Submit"})]})};var v=function(){localStorage.getItem("bulletinBoard")||localStorage.setItem("bulletinBoard",JSON.stringify([]));var e=Object(r.useState)(JSON.parse(localStorage.getItem("todos"))),t=Object(s.a)(e,2),o=t[0],n=t[1],d=Object(r.useState)(!1),c=Object(s.a)(d,2),u=c[0],h=c[1],x=Object(r.useState)(!1),N=Object(s.a)(x,2),v=N[0],B=(N[1],Object(r.useState)(!1)),y=Object(s.a)(B,2),C=y[0],T=y[1],w=Object(r.useState)("testing"),k=Object(s.a)(w,2),J=k[0],A=k[1],E=Object(r.useState)(!1),D=Object(s.a)(E,2),U=D[0],F=D[1],L=Object(r.useState)({}),q=Object(s.a)(L,2),R=q[0],W=q[1],H=Object(r.useState)(JSON.parse(localStorage.getItem("bulletinBoard"))),G=Object(s.a)(H,2),M=G[0],_=G[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("div",{id:"icons-container",children:[Object(l.jsx)(g,{}),Object(l.jsx)(i.b,{id:"restore-last-todo",onClick:function(){!function(){var e=[];if(localStorage.getItem("todos")&&(e=JSON.parse(localStorage.getItem("todos"))),JSON.parse(localStorage.getItem("deleted-todos")).length>0){var t,o=(t=(t=JSON.parse(localStorage.getItem("deleted-todos"))).reverse())[0];t=t.filter((function(e){return e!==o})),localStorage.setItem("deleted-todos",JSON.stringify(t)),e.push(o),localStorage.setItem("todos",JSON.stringify(e)),n(e)}else alert("all todos restored")}()}})]}),Object(l.jsx)("header",{id:"app-header",children:Object(l.jsx)("img",{id:"custy-logo",src:a,alt:"Logo"})}),Object(l.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:[Object(l.jsx)(j,{addTodo:u,editCheck:U,addNewBBoardItem:C,setAddTodo:h,setEditCheck:F}),Object(l.jsx)(m,{setAddNewBBoardItem:T,addNewBBoardItem:C,addTodo:u,editCheck:U})]}),Object(l.jsx)(S,{bboardItemArray:M,setBboardItemArray:_,setSelectedBBoardItemContents:A}),Object(l.jsx)(b,{initiateEdit:function(e,t){W({orderNumber:e,todo:t}),F(!U),u&&h(!u)},todos:o,setTodoUrgent:function(e){o.forEach((function(t){t.orderNumber===e&&(t.urgent=!t.urgent)})),localStorage.setItem("todos",JSON.stringify(o)),n(JSON.parse(localStorage.getItem("todos")))},setTodoWaiting:function(e){o.forEach((function(t){t.orderNumber===e&&(t.waitingForResponse=!t.waitingForResponse)})),localStorage.setItem("todos",JSON.stringify(o)),n(JSON.parse(localStorage.getItem("todos")))},closeTodo:function(e,t){var r;r=o.filter((function(e){return e.orderNumber!==t})),localStorage.setItem("todos",JSON.stringify(r)),n(JSON.parse(localStorage.getItem("todos")));var d=o.filter((function(e){return e.orderNumber===t})),c=[];localStorage.getItem("deleted-todos")?((c=JSON.parse(localStorage.getItem("deleted-todos"))).push(d[0]),localStorage.setItem("deleted-todos",JSON.stringify(c))):localStorage.setItem("deleted-todos",JSON.stringify(d))},freshDeleted:v}),u&&Object(l.jsx)(O,{addNewTodo:function(e,t){var o=[];localStorage.getItem("todos")&&(o=JSON.parse(localStorage.getItem("todos"))),o.push({orderNumber:e,todo:t,date:(new Date).toString().substring(0,15),urgent:!1,waitingForResponse:!1}),localStorage.setItem("todos",JSON.stringify(o)),n(o),h(!u)}}),U&&Object(l.jsx)(f,{submitEdit:function(e){var t=JSON.parse(localStorage.getItem("todos"));t.forEach((function(t){t.orderNumber===R.orderNumber&&(t.todo=e)})),localStorage.setItem("todos",JSON.stringify(t)),n(t),F(!U)},orderNumber:R.orderNumber,todo:R.todo}),C&&Object(l.jsx)(p,{bboardItemArray:M,setAddNewBBoardItem:T}),Object(l.jsx)(I,{contents:J,bboardItemArray:M,setBboardItemArray:_})]})};c.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.afa20dae.chunk.js.map