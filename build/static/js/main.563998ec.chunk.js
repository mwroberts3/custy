(this.webpackJsonpcusty=this.webpackJsonpcusty||[]).push([[0],{10:function(e,t,o){},12:function(e,t,o){"use strict";o.r(t);var r=o(1),n=o.n(r),d=o(5),c=o.n(d),a=o(2),s=(o(10),o.p+"static/media/custy-logo.89dfcd73.png"),i=o(0),l=function(e){var t=e.todo,o=e.setTodoUrgent,r=e.setTodoWaiting,n=e.closeTodo,d=e.initiateEdit;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:t.urgent?"customer-service-card urgent":t.waitingForResponse?"customer-service-card waiting":"customer-service-card",children:[Object(i.jsxs)("nav",{className:"csc-options",children:[Object(i.jsx)("span",{onClick:function(){return o(t.orderNumber)},children:"URGENT"}),Object(i.jsx)("span",{onClick:function(){return r(t.orderNumber)},children:"WAITING"}),Object(i.jsx)("span",{onClick:function(e){return n(e,t)},children:"CLOSE"})]}),Object(i.jsx)("hr",{style:{width:"100%"}}),Object(i.jsx)("h3",{className:"customer-service-card-order-number",children:t.orderNumber}),Object(i.jsx)("h5",{className:"customer-service-card-order-date",children:t.date}),Object(i.jsx)("p",{onClick:function(){d(t.orderNumber,t.todo)},children:t.todo})]})})},u=function(e){var t=e.initiateEdit,o=e.todos,n=e.setTodoUrgent,d=e.setTodoWaiting,c=e.closeTodo,a=e.freshDeleted,s=e.setFreshDeleted;return Object(r.useEffect)((function(){var e=o.filter((function(e){return!e.urgent}));o.length!==e.length?document.querySelector("link").href="https://raw.githubusercontent.com/mwroberts3/custy/master/src/favicon2.ico":document.querySelector("link").href="https://raw.githubusercontent.com/mwroberts3/custy/master/public/favicon.ico"})),Object(i.jsx)("div",{id:"customer-service-todo",children:o&&o.map((function(e){return Object(i.jsx)(l,{todo:e,setTodoUrgent:n,setTodoWaiting:d,closeTodo:c,initiateEdit:t,freshDeleted:a,setFreshDeleted:s},e.orderNumber)}))})},m=function(e){var t=e.addTodo,o=e.editCheck,r=e.addNewBBoardItem,n=e.setAddTodo,d=e.setEditCheck;return t||o?t&&!o?Object(i.jsx)("button",{id:"addTodoBtn",onClick:function(){return n(!t)},children:"Close"}):Object(i.jsx)("button",{id:"addTodoBtn",onClick:function(){return d(!o)},children:"Close"}):Object(i.jsx)("button",{id:"addTodoBtn",onClick:function(){r||n(!t)},children:"Add Todo"})},b=function(e){var t=e.setAddNewBBoardItem,o=e.addNewBBoardItem,r=e.addTodo,n=e.editCheck,d=e.bbEditCheck;return o?Object(i.jsx)("button",{id:"addBBoardItemBtn",onClick:function(){return t(!1)},children:"Close"}):Object(i.jsx)("button",{id:"addBBoardItemBtn",onClick:function(){r||n||(d.current=!1,t(!0))},children:"Add Board Item"})},j=function(e){var t=e.addNewTodo;return Object(i.jsxs)("form",{id:"add-todo-form",children:[Object(i.jsx)("label",{children:"Reference Number:"}),Object(i.jsx)("input",{id:"newTodoOrderNumber",type:"text",autoFocus:!0}),Object(i.jsx)("label",{children:"Todo:"}),Object(i.jsx)("textarea",{id:"newTodoDescription"}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault(),t(document.getElementById("newTodoOrderNumber").value,document.getElementById("newTodoDescription").value)},children:"Submit"})]})},g=function(e){var t=e.submitEdit,o=e.orderNumber,r=e.todo;return Object(i.jsxs)("form",{id:"edit-todo-form",children:[Object(i.jsx)("label",{children:"Order Number:"}),Object(i.jsx)("p",{children:o}),Object(i.jsx)("label",{children:"Todo:"}),Object(i.jsx)("textarea",{id:"editedTodoDescription",defaultValue:r,autoFocus:!0}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault(),t(document.getElementById("editedTodoDescription").value)},children:"Submit"})]})},h=o(3),O=function(){return Object(i.jsx)("div",{id:"github-link",children:Object(i.jsx)("a",{href:"https://github.com/mwroberts3/custy",target:"none",children:Object(i.jsx)(h.a,{size:24})})})},f=function(e){var t=e.restoreTodo;return localStorage.getItem("deleted-todos")&&JSON.parse(localStorage.getItem("deleted-todos")).length>0?Object(i.jsx)("div",{id:"restore-last-todo",className:"restore-enabled",children:Object(i.jsx)(h.d,{onClick:function(){t()}})}):Object(i.jsx)("div",{id:"restore-last-todo",children:Object(i.jsx)(h.d,{onClick:function(){t()}})})},N=function(e){var t=e.lightTheme,o=e.setLightTheme;return Object(r.useEffect)((function(){t?(localStorage.setItem("light-theme",!0),document.getElementsByTagName("BODY")[0].style.background="white",document.getElementById("custy-logo")&&(document.getElementById("custy-logo").style.filter="invert(0%)")):(localStorage.setItem("light-theme",!1),document.getElementsByTagName("BODY")[0].style.background="black",document.getElementById("custy-logo")&&(document.getElementById("custy-logo").style.filter="invert(100%)"))})),Object(i.jsx)("div",{id:"color-theme-icon",children:t?Object(i.jsx)(h.b,{size:20,onClick:function(){o(!1)}}):Object(i.jsx)(h.c,{size:20,onClick:function(){o(!0)}})})},B=function(e){var t=e.name,o=e.desc,r=e.setSelectedBBoardItemContents;return Object(i.jsx)("div",{className:"bulletin-board-item",onClick:function(){!function(e,t){document.querySelector(".bboard-item-contents-container").classList.remove("hidden"),document.querySelector(".bboard-item-contents-container").addEventListener("click",(function(){document.querySelector(".bboard-item-contents-container").classList.add("hidden")})),r({name:t,desc:e})}(o,t)},children:t})},I=function(){return Object(i.jsx)("div",{className:"bulletin-board-spacer",children:"\xa0"})},S=function(e){var t=e.bboardItemArray,o=e.setSelectedBBoardItemContents;return t.sort((function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0})),Object(i.jsx)("div",{id:"bulletin-board",children:t.map((function(e,r){return Object(i.jsxs)("div",{className:"bboard-item-container",children:[Object(i.jsx)(B,{name:e.name,desc:e.desc,setSelectedBBoardItemContents:o}),r<t.length-1&&Object(i.jsx)(I,{})]},r)}))})},x=function(e){var t=e.deleteBBoardItemFromArray;return Object(i.jsx)("button",{onClick:function(e){t(e.target.parentNode.parentNode.childNodes[0].textContent)},children:"Delete"})},p=function(e){var t=e.editBBItemFunc;return Object(i.jsx)("button",{onClick:function(e){t(e)},children:"Edit"})},v=function(e){var t=e.contents,o=e.setAddNewBBoardItem,r=e.deleteBBoardItemFromArray,n=e.bbEditCheck,d=e.prevBbName;return Object(i.jsxs)("div",{className:"bboard-item-contents-container hidden",children:[Object(i.jsx)("h2",{children:t.name}),Object(i.jsx)("div",{className:"bboard-item-contents",dangerouslySetInnerHTML:{__html:t.desc}}),Object(i.jsxs)("div",{style:{marginTop:"20px"},children:[Object(i.jsx)(x,{deleteBBoardItemFromArray:r}),Object(i.jsx)(p,{editBBItemFunc:function(e){o(!0),n.current=!0,setTimeout((function(){d.current=e.target.parentNode.parentNode.children[0].textContent,document.getElementById("bbItemHeader").value=e.target.parentNode.parentNode.children[0].textContent;var t=e.target.parentNode.parentNode.children[1].innerHTML;document.getElementById("newBBItemContent").value=t}),50)}})]}),Object(i.jsx)("div",{children:Object(i.jsx)("small",{children:Object(i.jsx)("em",{children:"(click inside this popup to close)"})})})]})},y=function(e){var t=e.bboardItemArray,o=e.setAddNewBBoardItem,r=e.setBboardItemArray,n=e.bbEditCheck,d=e.prevBbName;return Object(i.jsxs)("form",{id:"add-bbitem-form",children:[Object(i.jsx)("label",{children:"Header:"}),Object(i.jsx)("input",{id:"bbItemHeader",type:"text",autoFocus:!0}),Object(i.jsx)("label",{children:"Content (html):"}),Object(i.jsx)("textarea",{id:"newBBItemContent"}),Object(i.jsx)("button",{onClick:function(e){!function(e){e.preventDefault();var c=t,a={name:document.querySelector("#bbItemHeader").value,desc:document.querySelector("#newBBItemContent").value};c.filter((function(e){return e.name===a.name})).length>=1&&!n.current?alert("bulletin board item with that name already exists, please choose a different name"):(c=c.filter((function(e){return e.name!==a.name&&e.name!==d.current})),""!==a.name&&""!==a.desc&&(c.push(a),localStorage.setItem("bulletinBoard",JSON.stringify(c))),r(c),o(!1)),d.current=null}(e)},children:"Submit"})]})};var C=function(){localStorage.getItem("bulletinBoard")||localStorage.setItem("bulletinBoard",JSON.stringify([]));var e=Object(r.useState)(JSON.parse(localStorage.getItem("light-theme"))),t=Object(a.a)(e,2),o=t[0],n=t[1],d=Object(r.useState)(JSON.parse(localStorage.getItem("todos"))),c=Object(a.a)(d,2),l=c[0],h=c[1];if(null===l){localStorage.setItem("todos",JSON.stringify([]))}var B=Object(r.useState)(!1),I=Object(a.a)(B,2),x=I[0],p=I[1],C=Object(r.useState)(!1),T=Object(a.a)(C,2),k=T[0],E=T[1],w=Object(r.useState)(!1),J=Object(a.a)(w,2),A=J[0],D=J[1],L=Object(r.useState)("testing"),F=Object(a.a)(L,2),U=F[0],q=F[1],H=Object(r.useRef)(!1),R=Object(r.useRef)(null),M=Object(r.useState)(!1),W=Object(a.a)(M,2),z=W[0],G=W[1],Y=Object(r.useState)({}),_=Object(a.a)(Y,2),V=_[0],K=_[1],P=Object(r.useState)(JSON.parse(localStorage.getItem("bulletinBoard"))),Q=Object(a.a)(P,2),X=Q[0],Z=Q[1];window.onfocus=function(){n(JSON.parse(localStorage.getItem("light-theme"))),h(JSON.parse(localStorage.getItem("todos"))),Z(JSON.parse(localStorage.getItem("bulletinBoard")))};var $=l;return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsxs)("div",{id:"icons-container",children:[Object(i.jsx)(N,{lightTheme:o,setLightTheme:n}),Object(i.jsx)(f,{restoreTodo:function(){var e=[];if(localStorage.getItem("todos")&&(e=JSON.parse(localStorage.getItem("todos")),document.querySelector("#restore-last-todo").classList.add("restore-enabled")),localStorage.getItem("deleted-todos"))if(JSON.parse(localStorage.getItem("deleted-todos")).length>0){var t,o=(t=(t=JSON.parse(localStorage.getItem("deleted-todos"))).reverse())[0];t=t.filter((function(e){return e!==o})),localStorage.setItem("deleted-todos",JSON.stringify(t)),e.push(o),localStorage.setItem("todos",JSON.stringify(e)),h(e)}else alert("all todos restored")}})]}),Object(i.jsx)("div",{id:"icons-container-2",children:Object(i.jsx)(O,{})}),Object(i.jsx)("header",{id:"app-header",children:Object(i.jsx)("img",{id:"custy-logo",src:s,alt:"Logo"})}),Object(i.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:[Object(i.jsx)(m,{addTodo:x,editCheck:z,addNewBBoardItem:A,setAddTodo:p,setEditCheck:G}),Object(i.jsx)(b,{setAddNewBBoardItem:D,addNewBBoardItem:A,addTodo:x,editCheck:z,bbEditCheck:H})]}),Object(i.jsx)(S,{bboardItemArray:X,setBboardItemArray:Z,setSelectedBBoardItemContents:q,setAddNewBBoardItem:D}),Object(i.jsx)(u,{initiateEdit:function(e,t){K({orderNumber:e,todo:t}),G(!z),x&&p(!x)},todos:l,setTodoUrgent:function(e){l.forEach((function(t){t.orderNumber===e&&(t.urgent=!t.urgent)})),localStorage.setItem("todos",JSON.stringify(l)),h(JSON.parse(localStorage.getItem("todos")))},setTodoWaiting:function(e){l.forEach((function(t){t.orderNumber===e&&(t.waitingForResponse=!t.waitingForResponse)})),localStorage.setItem("todos",JSON.stringify(l)),h(JSON.parse(localStorage.getItem("todos")))},closeTodo:function(e,t){var o=setInterval((function(){$=$.filter((function(e){return e.orderNumber!==t.orderNumber})),localStorage.setItem("todos",JSON.stringify($));var e=l.filter((function(e){return e.orderNumber===t.orderNumber})),r=[];localStorage.getItem("deleted-todos")?((r=JSON.parse(localStorage.getItem("deleted-todos"))).push(e[0]),localStorage.setItem("deleted-todos",JSON.stringify(r))):localStorage.setItem("deleted-todos",JSON.stringify(e)),document.getElementById("testDelete-".concat(t.orderNumber)).classList.remove("todoToBeClosed"),clearInterval(o),h($)}),2e3),r=e.target.parentNode.parentNode.parentNode.innerHTML;e.target.parentNode.parentNode.parentNode.innerHTML='\n  <div id="testDelete-'.concat(t.orderNumber,'" class="urgent-undo todoToBeClosed">\n  <button class="undo-btn">Undo</button>\n  </div>\n  '),document.getElementById("testDelete-".concat(t.orderNumber)).addEventListener("click",(function(){document.getElementById("testDelete-".concat(t.orderNumber)).classList.remove("urgent-undo"),document.getElementById("testDelete-".concat(t.orderNumber)).classList.remove("todoToBeClosed"),document.getElementById("testDelete-".concat(t.orderNumber)).innerHTML=r,clearInterval(o),document.querySelectorAll(".todoToBeClosed").length<1&&(h([]),h($))}))},freshDeleted:k,setFreshDeleted:E}),x&&Object(i.jsx)(j,{addNewTodo:function(e,t){var o=[];localStorage.getItem("todos")&&(o=JSON.parse(localStorage.getItem("todos")));var r=1;if(o.find((function(t){return t.orderNumber===e}))){for(var n=0;n<o.length;n++)o[n].orderNumber.substring(0,e.length+2)==="".concat(e," -")&&r++;e="".concat(e," - ").concat(r)}o.push({orderNumber:e,todo:t,date:(new Date).toString().substring(0,15),urgent:!1,waitingForResponse:!1}),localStorage.setItem("todos",JSON.stringify(o)),h(o),p(!x)}}),z&&Object(i.jsx)(g,{submitEdit:function(e){var t=JSON.parse(localStorage.getItem("todos"));t.forEach((function(t){t.orderNumber===V.orderNumber&&(t.todo=e)})),localStorage.setItem("todos",JSON.stringify(t)),h(t),G(!z)},orderNumber:V.orderNumber,todo:V.todo}),A&&Object(i.jsx)(y,{bboardItemArray:X,setAddNewBBoardItem:D,setBboardItemArray:Z,bbEditCheck:H,prevBbName:R}),Object(i.jsx)(v,{contents:U,setAddNewBBoardItem:D,deleteBBoardItemFromArray:function(e){var t=X.filter((function(t){return t.name!==e}));localStorage.setItem("bulletinBoard",JSON.stringify(t)),Z(t)},bbEditCheck:H,prevBbName:R})]})};c.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(C,{})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.563998ec.chunk.js.map